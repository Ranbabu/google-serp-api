<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ImageSearchMan • 2025 Premium</title>
<style>
  :root {
    --pri: #ff006e;
    --sec: #8338ec;
    --acc: #06ffa5;
    --grad: linear-gradient(135deg, #ff006e, #8338ec, #4f46e5);
    --glass: rgba(255,255,255,0.12);
    --border: rgba(255,255,255,0.18);
    --glow: 0 0 30px rgba(131,56,236,0.6);
  }
  * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
  body {
    font-family: system-ui, -apple-system, sans-serif;
    background: linear-gradient(-45deg, #0f0f23, #1a0033, #000428, #002d5f);
    background-size: 400% 400%;
    animation: bg 15s ease infinite;
    color: white;
    min-height: 100dvh;
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }
  @keyframes bg { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }

  body::before {
    content:''; position:fixed; inset:0; z-index:0; pointer-events:none;
    background: radial-gradient(circle at 20% 30%, #ff006e18 1px, transparent 1px),
                radial-gradient(circle at 80% 70%, #06ffa518 1px, transparent 1px);
    background-size: 80px 80px;
    animation: float 30s linear infinite;
  }
  @keyframes float { from {transform:translate(0,0)} to {transform:translate(40px,-40px)} }

  .wrap { padding:16px; max-width:1100px; margin:auto; position:relative; z-index:2; }

  header { text-align:center; padding:30px 0 10px; }
  .logo {
    width:100px; height:100px; margin:auto auto 16px;
    background:var(--grad); border-radius:50%; display:grid; place-items:center;
    font-size:40px; font-weight:900; color:white; box-shadow:var(--glow);
    animation:pulse 4s infinite;
  }
  @keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.08)} }
  h1 { 
    font-size:34px; margin:16px 0 8px;
    background:linear-gradient(90deg,#06ffa5,#00d9ff,#8b5cf6);
    -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  }
  .tagline { font-size:16px; opacity:0.9; }

  /* Main Search Card */
  .card {
    background:var(--glass);
    backdrop-filter:blur(20px);
    border:1px solid var(--border);
    border-radius:28px;
    padding:20px;
    margin:20px 0 30px;
    box-shadow:0 8px 32px rgba(0,0,0,0.4);
  }

  /* Search Box - अब बटन नहीं है साइड में */
  #q {
    width:100%;
    padding:18px 20px;
    border:none;
    border-radius:50px;
    background:rgba(255,255,255,0.15);
    color:white;
    font-size:17px;
    min-height:56px;
    margin-bottom:16px;
  }
  #q::placeholder { color:rgba(255,255,255,0.6); }
  #q:focus { outline:none; background:rgba(255,255,255,0.25); box-shadow:0 0 0 4px rgba(131,56,236,0.3); }

  /* Tabs */
  .tabs {
    display:flex;
    gap:12px;
    justify-content:center;
    margin-bottom:20px;
  }
  .tab {
    padding:12px 36px;
    border-radius:50px;
    background:rgba(255,255,255,0.1);
    border:1px solid rgba(255,255,255,0.2);
    font-weight:600;
    min-width:130px;
    text-align:center;
    transition:0.3s;
  }
  .tab.active {
    background:var(--grad);
    box-shadow:var(--glow);
    transform:scale(1.05);
  }

  /* Search Button - अब नीचे सेंटर में */
  .center-btn {
    display:block;
    width:80%;
    max-width:320px;
    margin:0 auto;
    padding:16px 20px;
    border:none;
    border-radius:50px;
    background:var(--grad);
    color:white;
    font-size:18px;
    font-weight:700;
    box-shadow:var(--glow);
    cursor:pointer;
  }
  .center-btn:active { transform:scale(0.96); }

  /* Results Grid */
  .grid {
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(150px,1fr));
    gap:16px;
    margin-top:20px;
  }
  .item {
    background:var(--glass);
    border-radius:20px;
    overflow:hidden;
    border:1px solid var(--border);
    box-shadow:0 4px 20px rgba(0,0,0,0.3);
    animation:pop 0.6s forwards;
    opacity:0;
  }
  .item img {
    width:100%; height:180px; object-fit:cover; transition:0.4s;
  }
  .item:hover img { transform:scale(1.12); }
  .info { padding:12px; font-size:14px; }
  .title { font-weight:600; margin-bottom:4px; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
  .actions { display:flex; gap:8px; margin-top:10px; }
  .act {
    flex:1; padding:10px; border:none; border-radius:12px;
    background:rgba(255,255,255,0.15); color:white; font-size:13px; font-weight:600;
  }
  .act:active { background:var(--acc); }

  #loader { text-align:center; padding:60px 20px; display:none; }
  .spin {
    width:60px; height:60px; border:5px solid rgba(255,255,255,0.2);
    border-top-color:var(--acc); border-radius:50%;
    animation:spin 1s linear infinite; margin:auto;
  }
  @keyframes spin { to{transform:rotate(360deg)} }

  #moreBtn {
    display:block; margin:40px auto; padding:16px 50px; font-size:18px;
    width:80%; max-width:320px;
  }

  footer { text-align:center; padding:40px 20px; opacity:0.9; font-size:14px; }
  .badge {
    background:var(--grad); padding:12px 32px; border-radius:50px;
    display:inline-block; box-shadow:var(--glow); font-weight:700;
  }
</style>
</head>
<body>

<div class="wrap">
  <header>
    <div class="logo">IS</div>
    <h1>ImageSearchMan</h1>
    <p class="tagline">सबसे तेज़ और सुंदर DDG इमेज सर्च • 2025 एडिशन</p>
  </header>

  <div class="card">
    <input type="text" id="q" placeholder="यहाँ सर्च करें... जैसे: बिहार चुनाव, नरेंद्र मोदी, विराट कोहली..." autocomplete="off">

    <div class="tabs">
      <div class="tab active" id="tabImg">Images</div>
      <div class="tab" id="tabVid">Videos</div>
    </div>

    <!-- अब बटन नीचे सेंटर में है -->
    <button class="center-btn" id="searchBtn">Search</button>
  </div>

  <div id="loader"><div class="spin"></div><p>लोड हो रहा है...</p></div>
  <div class="grid" id="grid"></div>
  <button class="center-btn" id="moreBtn" style="display:none">और दिखाएं</button>

  <footer>
    <div class="badge">Powered by DDG Proxy + Render</div>
    <p style="margin-top:12px">© 2025 ImageSearchMan • Premium Mobile Edition</p>
  </footer>
</div>

<script>
const PROXY = "https://google-serp-api-bp7z.onrender.com";
let q = "", offset = 0;

document.getElementById('searchBtn').onclick = () => search();
document.getElementById('q').addEventListener('keypress', e => { if(e.key==='Enter') search(); });

async function search(append = false) {
  const term = document.getElementById('q').value.trim();
  if(!term) return alert("कुछ तो लिखो भाई!");

  if(!append) { q = term; offset = 0; document.getElementById('grid').innerHTML = ''; }
  document.getElementById('loader').style.display = 'block';

  try {
    const res = await fetch(`${PROXY}/api/images?q=${encodeURIComponent(q)}&s=${offset}`);
    const data = await res.json();
    document.getElementById('loader').style.display = 'none';

    if(data.results && data.results.length) {
      data.results.forEach(r => {
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `
          <img src="${r.thumbnail || r.image}" loading="lazy" alt="">
          <div class="info">
            <div class="title">${r.title || 'No title'}</div>
            <div class="actions">
              <button class="act" onclick="prev('${r.image}')">Preview</button>
              <a href="${r.image}" download class="act">Download</a>
              <button class="act" onclick="copy('${r.image}')">Copy</button>
            </div>
          </div>`;
        document.getElementById('grid').appendChild(div);
      });
      document.getElementById('moreBtn').style.display = data.next ? 'block' : 'none';
    }
  } catch(e) {
    document.getElementById('grid').innerHTML += `<div style="grid-column:1/-1;padding:30px;color:#ff6b6b;text-align:center;">Error: ${e.message}</div>`;
  }
}

function prev(src) {
  const img = new Image(); img.src = src;
  img.style.cssText = 'max-width:95vw;max-height:90vh;border-radius:20px;box-shadow:0 20px 60px #0008';
  const ov = document.createElement('div');
  ov.style.cssText = 'position:fixed;inset:0;background:#000c;display:grid;place-items:center;z-index:999';
  ov.onclick = () => ov.remove();
  ov.appendChild(img);
  document.body.appendChild(ov);
}

function copy(t) { navigator.clipboard.writeText(t).then(() => alert('लिंक कॉपी हो गया!')); }

document.getElementById('moreBtn').onclick = () => { offset += 100; search(true); };
document.getElementById('q').focus();
</script>
</body>
</html>
